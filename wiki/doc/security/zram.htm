<div class="article_title">
	<h1>
		<span class="link_title"><a href="http://blog.csdn.net/fybon/article/details/30272407"> zram </a></span></h1>
</div>
<div class="article_manage clearfix">
	<div class="article_r">
		<span class="link_postdate">2014-06-12 17:57</span> <span class="link_view" title="阅读次数">1388人阅读</span> <span class="link_comments" title="评论次数"> <a href="http://blog.csdn.net/fybon/article/details/30272407#comments">评论</a>(0)</span> <span class="link_collect tracking-ad" data-mod="popu_171"> <a target="_blank" title="收藏">收藏</a></span> <span class="link_report"> <a href="http://blog.csdn.net/fybon/article/details/30272407#report" title="举报">举报</a></span></div>
</div>
<div class="category clearfix">
	<div class="category_l">
		<img src="http://static.blog.csdn.net/images/category_icon.jpg" /> <span>分类：</span></div>
	<div class="category_r">
		<label><span>kernel<em>（84）</em></span> <img class="arrow-down" src="http://static.blog.csdn.net/images/arrow_triangle%20_down.jpg" style="display:inline;" /> </label></div>
</div>
<div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;">
	<p style="text-align:right;margin:0;">
		<span style="float:left;">目录<a href="http://blog.csdn.net/fybon/article/details/30272407#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/fybon/article/details/30272407#" title="展开">[+]</a></p>
</div>
<p>
	<a href="http://zh.wikipedia.org/wiki/Zram" target="_blank">http://zh.wikipedia.org/wiki/Zram</a></p>
<p>
	&nbsp;</p>
<div class="notice dablink" style="text-align:justify; margin-top:1em; margin-right:1em; margin-bottom:1em; margin-left:1em; padding-top:0.2em; padding-right:0.2em; padding-bottom:0.2em; padding-left:0.2em; color:rgb(37,37,37); font-family:sans-serif; font-size:12px; line-height:28px">
	<div style="padding-left:32px; background-color:initial">
		文介绍的是Linux zRam功能，之前被称为&ldquo;compcache&rdquo;<sup class="reference" id="cite_ref-Linux_zRam_1-0" style="line-height:1"><a href="http://zh.wikipedia.org/wiki/Zram#cite_note-Linux_zRam-1" style="text-decoration:none; color:rgb(11,0,128); background-color:initial; white-space:nowrap" target="_blank">[1]</a></sup>。P於新的动态随机存取存储器技术Z-RAM，请参看「<strong><a class="new" href="http://zh.wikipedia.org/w/index.php?title=Z-RAM&amp;action=edit&amp;redlink=1" style="text-decoration:none; color:rgb(165,88,88); background-color:initial" target="_blank" title="Z-RAM（页面不存在）">Z-RAM</a></strong>」。</div>
</div>
<p style="margin-top:0.5em; margin-bottom:0.5em; line-height:28px; color:rgb(37,37,37); font-family:sans-serif; font-size:18px">
	<strong>zram</strong>是Linux内核的一个模块，之前被称为&ldquo;compcache&rdquo;。zram通过在<a href="http://zh.wikipedia.org/wiki/%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="随机存取存储器">RAM</a>内的压缩<a class="new" href="http://zh.wikipedia.org/w/index.php?title=%E5%9D%97%E8%AE%BE%E5%A4%87&amp;action=edit&amp;redlink=1" style="text-decoration:none; color:rgb(165,88,88); background-color:initial" target="_blank" title="块设备（页面不存在）">块设备</a>上分页，直到必须使用<a href="http://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="硬盘">硬盘</a>上 的交换空间，以避免在磁盘上进行分页，从而提高性能。由于zram可以用内存替代硬盘为系统提供交换空间的功能，zram可以让Linux在需要大量 RAM的情况下在内存上进行交换/分页，而提高内存的使用率，显著得减少系统启动时（此时Linux还不能使用外部存储）对内存大小的要求。在物理内存较 少的旧电脑上，尤其如此。<sup class="reference" id="cite_ref-WebUpd802Oct11_2-0" style="line-height:1"><a href="http://zh.wikipedia.org/wiki/Zram#cite_note-WebUpd802Oct11-2" style="text-decoration:none; color:rgb(11,0,128); background-color:initial; white-space:nowrap" target="_blank">[2]</a></sup><sup class="reference" id="cite_ref-comp_3-0" style="line-height:1"><a href="http://zh.wikipedia.org/wiki/Zram#cite_note-comp-3" style="text-decoration:none; color:rgb(11,0,128); background-color:initial; white-space:nowrap" target="_blank">[3]</a></sup></p>
<p style="margin-top:0.5em; margin-bottom:0.5em; line-height:28px; color:rgb(37,37,37); font-family:sans-serif; font-size:18px">
	即使RAM的价格比较低，这项功能仍对<a href="http://zh.wikipedia.org/wiki/%E4%B8%8A%E7%BD%91%E6%9C%AC" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="上网本">上网本</a>和其他低功率的笔记本电脑、<a class="mw-redirect" href="http://zh.wikipedia.org/wiki/%E8%99%9A%E6%8B%9F%E5%8C%96" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="虚拟化">虚拟化</a>有优势，尤其是那些使用<a href="http://zh.wikipedia.org/wiki/%E9%97%AA%E5%AD%98" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="闪存">闪存</a>的<a class="new" href="http://zh.wikipedia.org/w/index.php?title=%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%AE%BE%E5%A4%87&amp;action=edit&amp;redlink=1" style="text-decoration:none; color:rgb(165,88,88); background-color:initial" target="_blank" title="嵌入式设备（页面不存在）">嵌入式设备</a>，其寿命有限且依赖于使用频率，因此用作交换时磨损得很快。<sup class="reference" id="cite_ref-comp_3-1" style="line-height:1"><a href="http://zh.wikipedia.org/wiki/Zram#cite_note-comp-3" style="text-decoration:none; color:rgb(11,0,128); background-color:initial; white-space:nowrap" target="_blank">[3]</a></sup></p>
<p style="margin-top:0.5em; margin-bottom:0.5em; line-height:28px; color:rgb(37,37,37); font-family:sans-serif; font-size:18px">
	谷歌将为<a class="mw-redirect" href="http://zh.wikipedia.org/wiki/Chrome_OS" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="Chrome OS">Chrome OS</a>默认启用zram。<sup class="reference" id="cite_ref-chromestory_4-0" style="line-height:1"><a href="http://zh.wikipedia.org/wiki/Zram#cite_note-chromestory-4" style="text-decoration:none; color:rgb(11,0,128); background-color:initial; white-space:nowrap" target="_blank">[4]</a></sup></p>
<h2 style="font-weight:normal; margin-top:1em; margin-right:0px; margin-bottom:0.25em; margin-left:0px; overflow-x:hidden; overflow-y:hidden; padding-top:0px; padding-bottom:0px; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170); font-family:'Linux Libertine',Georgia,Times,serif; line-height:1.3; padding-right:0px; padding-left:0px">
	<a name="t0"></a> <span class="mw-headline" id=".E5.8F.82.E8.80.83">参考</span><span class="mw-editsection" style=""><span class="mw-editsection-bracket" style="margin-right:0px; color:rgb(85,85,85); margin-left:0px">[</span><a href="http://zh.wikipedia.org/w/index.php?title=Zram&amp;action=edit&amp;section=1" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="编辑段落：参考">编辑</a><span class="mw-editsection-bracket" style="margin-left:0px; color:rgb(85,85,85); margin-right:0px">]</span></span></h2>
<div class="reflist" style="font-size:16px; margin-bottom:0.5em; color:rgb(37,37,37); font-family:sans-serif; list-style-type:decimal">
	<ol class="references" style="line-height:1.5em; margin-top:0.3em; margin-right:0px; margin-bottom:0.5em; margin-left:3.2em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-size:16px; list-style-type:inherit">
		<li id="cite_note-Linux_zRam-1" style="margin-bottom:0.1em">
			<strong><a href="http://zh.wikipedia.org/wiki/Zram#cite_ref-Linux_zRam_1-0" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank">^</a></strong>&nbsp;<span class="reference-text"><span class="citation web"><a class="external text" href="http://www.webupd8.org/2011/10/increased-performance-in-linux-with.html" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">Increased Performance In Linux With zRam (Virtual Swap Compressed in RAM)</a>.&nbsp;<span class="reference-accessdate">[13 October 2011]</span>.</span></span></li>
		<li id="cite_note-WebUpd802Oct11-2" style="margin-bottom:0.1em">
			<strong><a href="http://zh.wikipedia.org/wiki/Zram#cite_ref-WebUpd802Oct11_2-0" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank">^</a></strong>&nbsp;<span class="reference-text"><span class="citation news"><a class="external text" href="http://www.webupd8.org/2011/10/increased-performance-in-linux-with.html" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">Increased performance in Linux with zram (virtual swap compressed in ram)</a>. Web Upd8. 2 October 2011&nbsp;<span class="reference-accessdate">[8 November 2011]</span>.</span></span></li>
		<li id="cite_note-comp-3" style="margin-bottom:0.1em">
			^&nbsp;<a href="http://zh.wikipedia.org/wiki/Zram#cite_ref-comp_3-0" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank"><sup style="line-height:1"><strong>3.0</strong></sup></a>&nbsp;<a href="http://zh.wikipedia.org/wiki/Zram#cite_ref-comp_3-1" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank"><sup style="line-height:1"><strong>3.1</strong></sup></a>&nbsp;<span class="reference-text"><span class="citation web"><a class="mw-redirect" href="http://zh.wikipedia.org/wiki/Google_Code" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="Google Code">Google Code</a>.&nbsp;<a class="external text" href="http://code.google.com/p/compcache/" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">compcache Compressed Caching for Linux</a>. 27 April 2010&nbsp;<span class="reference-accessdate">[11 November 2011]</span>.</span></span></li>
		<li id="cite_note-chromestory-4" style="margin-bottom:0.1em">
			<strong><a href="http://zh.wikipedia.org/wiki/Zram#cite_ref-chromestory_4-0" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank">^</a></strong>&nbsp;<span class="reference-text"><span class="citation web">Dinsan, Francis.&nbsp;<a class="external text" href="http://www.chromestory.com/2013/03/google-enabling-zram-for-chrome-os-by-default/" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">Google is Enabling zRAM for Chrome OS By Default</a>. Chrome Story. 28 March 2013&nbsp;<span class="reference-accessdate">[29 March 2013]</span>.</span></span></li>
	</ol>
</div>
<h2 style="font-weight:normal; margin-top:1em; margin-right:0px; margin-bottom:0.25em; margin-left:0px; overflow-x:hidden; overflow-y:hidden; padding-top:0px; padding-bottom:0px; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170); font-family:'Linux Libertine',Georgia,Times,serif; line-height:1.3; padding-right:0px; padding-left:0px">
	<a name="t1"></a> <span class="mw-headline" id=".E5.A4.96.E9.83.A8.E9.93.BE.E6.8E.A5">外部链接</span><span class="mw-editsection" style=""><span class="mw-editsection-bracket" style="margin-right:0px; color:rgb(85,85,85); margin-left:0px">[</span><a href="http://zh.wikipedia.org/w/index.php?title=Zram&amp;action=edit&amp;section=2" style="text-decoration:none; color:rgb(11,0,128); background-color:initial" target="_blank" title="编辑段落：外部链接">编辑</a><span class="mw-editsection-bracket" style="margin-left:0px; color:rgb(85,85,85); margin-right:0px">]</span></span></h2>
<ul style="line-height:1.5em; margin-top:0.3em; margin-right:0px; margin-bottom:0px; margin-left:1.6em; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; color:rgb(37,37,37); font-family:sans-serif; font-size:18px">
	<li style="margin-bottom:0.1em">
		<a class="external text" href="https://code.google.com/p/compcache/" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">Compcache, Compressed Caching for Linux</a></li>
	<li style="margin-bottom:0.1em">
		Nitin Gupta,&nbsp;<a class="external text" href="http://lwn.net/Articles/334649/" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">Compcache: in-memory compressed swapping</a>, LWN, May 26, 2009</li>
	<li style="margin-bottom:0.1em">
		Dan Magenheimer,&nbsp;<a class="external text" href="http://lwn.net/Articles/545244/" rel="nofollow" style="text-decoration:none; color:rgb(102,51,102); background-color:initial; padding-right:13px" target="_blank">In-kernel memory compression</a>, LWN, April 3, 2013</li>
</ul>
<div>
	&nbsp;</div>
<div>
	<span style="font-family:sans-serif; color:#252525"><span style="font-size:19px; line-height:27px"><span style="font-family:Arial; font-size:14px; line-height:26px; text-align:left">ZRAM 将内存swap并压缩，cpu换取内存的的一种方法。</span><br />
	</span></span></div>
<h1 id="id-132014.5.8ZRAM-2.开启配置" style="margin-top:2em; margin-right:0px; margin-bottom:0.5em; margin-left:0px; font-size:1.8em; font-weight:normal; line-height:1.25; border-bottom-color:rgb(145,150,153); padding-bottom:2px; border-bottom-width:1px; border-bottom-style:solid; font-family:Arial,sans-serif">
	<a name="t2"></a> 开启配置</h1>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<strong>1.KCONFIG配置：</strong></p>
<div class="code panel pdl" style="color:rgb(51,51,51); padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dashed; border-right-style:dashed; border-bottom-style:dashed; border-left-style:dashed; border-top-color:rgb(187,187,187); border-right-color:rgb(187,187,187); border-bottom-color:rgb(187,187,187); border-left-color:rgb(187,187,187); overflow-x:auto; overflow-y:auto; font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<div class="codeContent panelContent pdl" style="padding-top:0px; padding-right:10px; padding-bottom:0px; padding-left:10px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; text-align:left; line-height:20px; overflow-x:hidden; overflow-y:hidden">
		<div class="syntaxhighlighter nogutter  bash" id="highlighter_268965" style="width:1123px; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; position:relative!important; overflow-x:auto!important; overflow-y:auto!important; font-size:1em!important">
			<table border="0" cellpadding="0" cellspacing="0" style="color:rgb(51,51,51); background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:20px!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; text-align:left!important; top:auto!important; vertical-align:baseline!important; width:1123px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
				<tbody style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
					<tr style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
						<td class="code" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; overflow-x:visible!important; overflow-y:visible!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:15px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:1108px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
							<div class="container" style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:15px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:15px!important; padding-left:0em!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; white-space:pre-wrap!important" title="Hint: double-click to select code">
								<div class="line number1 index0 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">CONFIG_SWAP=y</code></div>
								<div class="line number2 index1 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">CONFIG_ZRM=y</code></div>
								<div class="line number3 index2 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">CONFIG_ZSMALLOC=y</code></div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<strong>2.init.rc中设置zram swap分区</strong></p>
<div class="code panel pdl" style="color:rgb(51,51,51); padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dashed; border-right-style:dashed; border-bottom-style:dashed; border-left-style:dashed; border-top-color:rgb(187,187,187); border-right-color:rgb(187,187,187); border-bottom-color:rgb(187,187,187); border-left-color:rgb(187,187,187); overflow-x:auto; overflow-y:auto; font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<div class="codeContent panelContent pdl" style="padding-top:0px; padding-right:10px; padding-bottom:0px; padding-left:10px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; text-align:left; line-height:20px; overflow-x:hidden; overflow-y:hidden">
		<div class="syntaxhighlighter nogutter  bash  " id="highlighter_556802" style="width:1123px; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; position:relative!important; overflow-x:auto!important; overflow-y:auto!important; font-size:1em!important">
			<table border="0" cellpadding="0" cellspacing="0" style="color:rgb(51,51,51); background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:20px!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; text-align:left!important; top:auto!important; vertical-align:baseline!important; width:1123px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
				<tbody style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
					<tr style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
						<td class="code" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; overflow-x:visible!important; overflow-y:visible!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:15px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:1108px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
							<div class="container" style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:15px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:15px!important; padding-left:0em!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; white-space:pre-wrap!important" title="Hint: double-click to select code">
								<div class="line number1 index0 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">swapon_all fstab.zram</code></div>
								<div class="line number2 index1 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#fstab.zram 文件中新增一分区size为1G</code></div>
								<div class="line number3 index2 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">/dev/block/zram0</code> <code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important"> none swap defaults zramsize=1073741824</code></div>
								<div class="line number4 index3 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									&nbsp;</div>
								<div class="line number5 index4 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#MTK平台有固定size的策略，一般为内存的50%；无法通过外部再设置</code></div>
								<div class="line number6 index5 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#swap方式也有区别，通过/enableswap.sh脚本来实现</code></div>
								<div class="line number7 index6 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#/system/bin/tiny_mkswap /dev/block/zram0</code></div>
								<div class="line number8 index7 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#/system/bin/tiny_swapon /dev/block/zram0</code></div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<strong>3.优化swappiness</strong></p>
<div class="code panel pdl" style="color:rgb(51,51,51); padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:dashed; border-right-style:dashed; border-bottom-style:dashed; border-left-style:dashed; border-top-color:rgb(187,187,187); border-right-color:rgb(187,187,187); border-bottom-color:rgb(187,187,187); border-left-color:rgb(187,187,187); overflow-x:auto; overflow-y:auto; font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<div class="codeContent panelContent pdl" style="padding-top:0px; padding-right:10px; padding-bottom:0px; padding-left:10px; margin-top:10px; margin-right:0px; margin-bottom:10px; margin-left:0px; text-align:left; line-height:20px; overflow-x:hidden; overflow-y:hidden">
		<div class="syntaxhighlighter nogutter  bash" id="highlighter_787716" style="width:1123px; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; position:relative!important; overflow-x:auto!important; overflow-y:auto!important; font-size:1em!important">
			<table border="0" cellpadding="0" cellspacing="0" style="color:rgb(51,51,51); background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:20px!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; text-align:left!important; top:auto!important; vertical-align:baseline!important; width:1123px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
				<tbody style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
					<tr style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
						<td class="code" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; overflow-x:visible!important; overflow-y:visible!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:15px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:1108px; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:14px!important; min-height:inherit!important">
							<div class="container" style="background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:15px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:15px!important; padding-left:0em!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; white-space:pre-wrap!important" title="Hint: double-click to select code">
								<div class="line number1 index0 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">write </code><code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">/proc/sys/vm/swappiness</code> <code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important"> 100 </code><code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#提高swap利用率</code></div>
								<div class="line number2 index1 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									&nbsp;</div>
								<div class="line number3 index2 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">配置 </code><code class="bash plain" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,0,0)!important">/proc/sys/vm/extra_free_kbytes</code></div>
								<div class="line number4 index3 alt1" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#Framework中的Config.xml &lt;integer name=&quot;config_extraFreeKbytesAbsolute&quot;&gt;目前1G Ram为100M。</code></div>
								<div class="line number5 index4 alt2" style="border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:1em!important; padding-bottom:0px!important; padding-left:0em!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important">
									<code class="bash comments" style="font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; background-color:initial!important; border-top-width:0px!important; border-right-width:0px!important; border-bottom-width:0px!important; border-left-width:0px!important; border-style:initial!important; border-color:initial!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:0px!important; outline-width:0px!important; outline-style:initial!important; outline-color:initial!important; overflow-x:visible!important; overflow-y:visible!important; padding-top:0px!important; padding-right:0px!important; padding-bottom:0px!important; padding-left:0px!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:inherit!important; color:rgb(0,130,0)!important">#增大系统尽可能保持的free大小，提高swap利用率。同时有利于新程序的内存快速分配，及用户的主观感受</code></div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<h1 id="id-132014.5.8ZRAM-3.效果验证" style="margin-top:2em; margin-right:0px; margin-bottom:0.5em; margin-left:0px; font-size:1.8em; font-weight:normal; line-height:1.25; border-bottom-color:rgb(145,150,153); padding-bottom:2px; border-bottom-width:1px; border-bottom-style:solid; font-family:Arial,sans-serif">
	<a name="t3"></a> 效果验证</h1>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<strong>1.dumpsys meminfo中会列出ZRAM的数据。</strong></p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<img alt="" class="confluence-embedded-image" src="http://work.lenovo.com/kb/download/attachments/34814595/image2014-5-8%2015%3A8%3A34.png?version=1&amp;modificationDate=1399532894419&amp;api=v2" style="border-top-width:1px; border-right-width:1px; border-bottom-width:1px; border-left-width:1px; border-top-style:solid; border-right-style:solid; border-bottom-style:solid; border-left-style:solid; border-top-color:transparent; border-right-color:transparent; border-bottom-color:transparent; border-left-color:transparent" /></p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	<strong>2.通过cat /proc/zraminfo来查看压缩的效果，或者/sys/devices/virtual/block/zram0下的记录值</strong></p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	OrigSize（orig_data_size）：原始数据大小</p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	ComprSize（compr_data_size）：压缩后数据大小</p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	MemUsed（mem_used_total）：压缩使用的内存大小。</p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	如上图中&ldquo;未压缩前占用&rdquo;是通过SwapTotal -SwapFree来得出，与OrigSize会有略微差异。</p>
<p style="margin-top:10px; margin-bottom:0px; color:rgb(51,51,51); font-family:Arial,sans-serif; font-size:14px; line-height:22px">
	ZRAM 的Size是限制Swap的地址空间，不会开机时就占用物理内存。</p>
